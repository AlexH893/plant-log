<div class="form">
  <h2>Plant Log</h2>
  <h3 style="margin-top: -3vh" *ngIf="collections.length === 1">
    Your Collection
  </h3>
  <h3 style="margin-top: -3vh" *ngIf="collections.length > 1">
    Your Collections
  </h3>
  <div class="container">
    <button mat-button class="create-collection" (click)="toggleForm()">
      <mat-icon>list</mat-icon>
      <span>Create collection</span>
    </button>

    <form class="list-form" *ngIf="isFormVisible">
      <mat-form-field>
        <input
          matInput
          placeholder="Collection name"
          [formControl]="listName"
          #collectionInput
        />
      </mat-form-field>
      <div class="button-container">
        <button class="plant-btn" mat-button (click)="createCollection()">
          <span class="button-background"></span>
          <span class="button-border"></span>
          <mat-icon>add</mat-icon>
          <span class="button-text">Submit</span>
        </button>
      </div>
    </form>

    <!-- Collection list display -->
    <div class="collection-list" *ngIf="collections.length > 0">
      <ul>
        <li *ngFor="let collection of collections" class="collections">
          <div class="collection-item" (click)="goToCollection(collection.id)">
            <h4 class="collection-name">{{ collection.name }}</h4>
            <p>Created on: {{ collection.date_created | date }}</p>
          </div>
        </li>
      </ul>
    </div>

    <!-- Message if no collections exist -->
    <div *ngIf="collections.length === 0">
      <p>No collections available. Create a collection to add plants.</p>
    </div>
  </div>
  
  <div class="toolbar">
    <button (click)="openNewsModal(userId)">
      <span class="material-icons"> campaign </span>
      <span *ngIf="newUpdate" class="notification-icon">ðŸ””</span>
    </button>
    <button (click)="home()">
      <span class="material-icons"> home </span>
    </button>
    <button (click)="logout()">
      <span class="material-icons"> logout </span>
    </button>
  </div>
</div>
